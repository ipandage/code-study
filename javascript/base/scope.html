<script>

    /**
     *
     var foo = 0; // global scope
     console.log(foo); // logs 0
     var myFunction = function() {
        var foo = 1; // local scope
        console.log(foo); // logs 1
        var myNestedFunction = function() {
            var foo = 2; // local scope
            console.log(foo); // logs 2
        }();
    }();
     eval('var foo = 3; console.log(foo);'); // eval() scope
     */

    /**
     * javascript 没有块作用域
     *
     var foo = 1; // foo = 1
     if (true) {
        foo = 2; // foo = 2
        for(var i = 3; i <= 5; i++) {
            foo = i; // foo = 3,4, then 5
            console.log(foo); // logs 3,4,5
        }
    }
     */

    /**
     * 使用var 避免声明为全局变量
     *
     var foo = function() {
        var boo = function() {
            bar = 2; // no var used, so bar is placed in the global scope at window.bar
        }();
    }();
     console.log(bar); // logs 2, because bar is in the global scope
     // As opposed to...
     var foo = function() {
        var boo = function() {
            var doo = 2;
        }();
    }();
     console.log(doo); // logs undefined, doo is in the boo function scope, error occurs
     */

    /**
     * 作用域链
     *
     var sayHiText = 'howdy';
     var func1 = function() {
        var func2 = function() {
            console.log(sayHiText); // func2 scope, but it finds sayHiText in global scope
        }();
    }();

     var x = 10;
     var foo = function() {
        var y = 20;
        var bar = function() {
            var z = 30;
            console.log(z + y + x); // z is local, y and z are found in the scope chain
        }();
    }()
     */

    /**
     * 作用域链 返回第一个被发现的值
     *
     var x = false;
     var foo = function() {
        var x = false;
        bar = function() {
            var x = true;
            console.log(x); // local x is first in the scope so it shadows the rest
        }();
    }
     foo(); // logs true
     */

    /**
     * 闭包
     *
     var countUpFromZero = function() {
        var count = 0;
        return function() { // return nested child function when countUpFromZero is invoked
            return ++count; // count is defined up the scope chain, in parent function
        };
    }(); // invoke immediately, return nested function

     console.log(countUpFromZero()); // logs 1
     console.log(countUpFromZero()); // logs 2
     console.log(countUpFromZero()); // logs 3
     */

</script>
